<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Websocket Socket.io</title>
</head>
<body>
<!--

unlike the ws library, socket.io requires a client script
the script provides a global variable 'io' to create socket connections

A single browser client can open multiple sockets to the server

-->
<script src="//localhost:4002/socket.io/socket.io.js"></script>
<script>

// Check that javascript code runs
console.log('Client code running')

// Connect to server
var socket = io('ws://localhost:4002')

// Log if connection is successful
socket.on('connect', function() {
  console.log('----connected to server-----')
  socket.emit('msg', { clientMsgKey: 'clientMsgVal' })
})

// Log message from server
socket.on('msg', function(msg) {
  console.log(msg)
})

</script>
</body>
</html>
